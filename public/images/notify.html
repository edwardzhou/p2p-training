<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Action Controller: Exception caught</title>
  <style>
    body { background-color: #fff; color: #333; }

    body, p, ol, ul, td {
      font-family: verdana, arial, helvetica, sans-serif;
      font-size:   13px;
      line-height: 18px;
    }

    pre {
      background-color: #eee;
      padding: 10px;
      font-size: 11px;
    }

    a { color: #000; }
    a:visited { color: #666; }
    a:hover { color: #fff; background-color:#000; }
  </style>
</head>
<body>

<h1>
  NoMethodError
    in AlipayTestsController#notify
</h1>
<pre>undefined method `gsub!' for 2011-07-18 00:00:00 +0800:Time</pre>


<p><code>Rails.root: /home/edward/ruby_work/p2p-training</code></p>

<div id="traces">
    <a href="#" onclick="document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Application-Trace').style.display='block';; return false;">Application Trace</a> |
    <a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='block';; return false;">Framework Trace</a> |
    <a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='block';; return false;">Full Trace</a> 

    <div id="Application-Trace" style="display: block;">
      <pre><code>app/controllers/alipay_tests_controller.rb:24:in `notify'</code></pre>
    </div>
    <div id="Framework-Trace" style="display: none;">
      <pre><code>/usr/local/ruby-1.9.2-p180/lib/ruby/1.9.1/date/format.rb:1037:in `_parse'
/usr/local/ruby-1.9.2-p180/lib/ruby/1.9.1/date.rb:1732:in `parse'
actionpack (3.0.7) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
actionpack (3.0.7) lib/abstract_controller/base.rb:150:in `process_action'
actionpack (3.0.7) lib/action_controller/metal/rendering.rb:11:in `process_action'
actionpack (3.0.7) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
activesupport (3.0.7) lib/active_support/callbacks.rb:441:in `_run__1472700015665372596__process_action__4547610044228949179__callbacks'
activesupport (3.0.7) lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
activesupport (3.0.7) lib/active_support/callbacks.rb:94:in `run_callbacks'
actionpack (3.0.7) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.0.7) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.0.7) lib/active_support/notifications.rb:52:in `block in instrument'
activesupport (3.0.7) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (3.0.7) lib/active_support/notifications.rb:52:in `instrument'
actionpack (3.0.7) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.0.7) lib/action_controller/metal/rescue.rb:17:in `process_action'
actionpack (3.0.7) lib/abstract_controller/base.rb:119:in `process'
actionpack (3.0.7) lib/abstract_controller/rendering.rb:41:in `process'
actionpack (3.0.7) lib/action_controller/metal.rb:138:in `dispatch'
actionpack (3.0.7) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.0.7) lib/action_controller/metal.rb:178:in `block in action'
actionpack (3.0.7) lib/action_dispatch/routing/route_set.rb:62:in `call'
actionpack (3.0.7) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
actionpack (3.0.7) lib/action_dispatch/routing/route_set.rb:27:in `call'
rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `block in call'
rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `block in recognize'
rack-mount (0.6.14) lib/rack/mount/code_generation.rb:68:in `optimized_each'
rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
actionpack (3.0.7) lib/action_dispatch/routing/route_set.rb:493:in `call'
haml (3.0.25) lib/sass/plugin/rack.rb:41:in `call'
client_side_validations (3.1.0) lib/client_side_validations/middleware.rb:18:in `call'
warden (1.0.4) lib/warden/manager.rb:35:in `block in call'
warden (1.0.4) lib/warden/manager.rb:34:in `catch'
warden (1.0.4) lib/warden/manager.rb:34:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/head.rb:14:in `call'
rack (1.2.2) lib/rack/methodoverride.rb:24:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/flash.rb:182:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/cookies.rb:302:in `call'
activerecord (3.0.7) lib/active_record/query_cache.rb:32:in `block in call'
activerecord (3.0.7) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
activerecord (3.0.7) lib/active_record/query_cache.rb:12:in `cache'
activerecord (3.0.7) lib/active_record/query_cache.rb:31:in `call'
activerecord (3.0.7) lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
activesupport (3.0.7) lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
actionpack (3.0.7) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
rack (1.2.2) lib/rack/sendfile.rb:107:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
railties (3.0.7) lib/rails/rack/logger.rb:13:in `call'
rack (1.2.2) lib/rack/runtime.rb:17:in `call'
rack (1.2.2) lib/rack/lock.rb:11:in `block in call'
&lt;internal:prelude&gt;:10:in `synchronize'
rack (1.2.2) lib/rack/lock.rb:11:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/static.rb:30:in `call'
railties (3.0.7) lib/rails/application.rb:168:in `call'
railties (3.0.7) lib/rails/application.rb:77:in `method_missing'
passenger (3.0.7) lib/phusion_passenger/rack/request_handler.rb:96:in `process_request'
passenger (3.0.7) lib/phusion_passenger/abstract_request_handler.rb:513:in `accept_and_process_next_request'
passenger (3.0.7) lib/phusion_passenger/abstract_request_handler.rb:274:in `main_loop'
passenger (3.0.7) lib/phusion_passenger/rack/application_spawner.rb:205:in `start_request_handler'
passenger (3.0.7) lib/phusion_passenger/rack/application_spawner.rb:170:in `block in handle_spawn_application'
passenger (3.0.7) lib/phusion_passenger/utils.rb:479:in `safe_fork'
passenger (3.0.7) lib/phusion_passenger/rack/application_spawner.rb:165:in `handle_spawn_application'
passenger (3.0.7) lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
passenger (3.0.7) lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
passenger (3.0.7) lib/phusion_passenger/abstract_server.rb:180:in `start'
passenger (3.0.7) lib/phusion_passenger/rack/application_spawner.rb:128:in `start'
passenger (3.0.7) lib/phusion_passenger/spawn_manager.rb:253:in `block (2 levels) in spawn_rack_application'
passenger (3.0.7) lib/phusion_passenger/abstract_server_collection.rb:132:in `lookup_or_add'
passenger (3.0.7) lib/phusion_passenger/spawn_manager.rb:246:in `block in spawn_rack_application'
passenger (3.0.7) lib/phusion_passenger/abstract_server_collection.rb:82:in `block in synchronize'
&lt;internal:prelude&gt;:10:in `synchronize'
passenger (3.0.7) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
passenger (3.0.7) lib/phusion_passenger/spawn_manager.rb:244:in `spawn_rack_application'
passenger (3.0.7) lib/phusion_passenger/spawn_manager.rb:137:in `spawn_application'
passenger (3.0.7) lib/phusion_passenger/spawn_manager.rb:275:in `handle_spawn_application'
passenger (3.0.7) lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
passenger (3.0.7) lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
passenger (3.0.7) helper-scripts/passenger-spawn-server:99:in `&lt;main&gt;'</code></pre>
    </div>
    <div id="Full-Trace" style="display: none;">
      <pre><code>/usr/local/ruby-1.9.2-p180/lib/ruby/1.9.1/date/format.rb:1037:in `_parse'
/usr/local/ruby-1.9.2-p180/lib/ruby/1.9.1/date.rb:1732:in `parse'
app/controllers/alipay_tests_controller.rb:24:in `notify'
actionpack (3.0.7) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
actionpack (3.0.7) lib/abstract_controller/base.rb:150:in `process_action'
actionpack (3.0.7) lib/action_controller/metal/rendering.rb:11:in `process_action'
actionpack (3.0.7) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
activesupport (3.0.7) lib/active_support/callbacks.rb:441:in `_run__1472700015665372596__process_action__4547610044228949179__callbacks'
activesupport (3.0.7) lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
activesupport (3.0.7) lib/active_support/callbacks.rb:94:in `run_callbacks'
actionpack (3.0.7) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.0.7) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.0.7) lib/active_support/notifications.rb:52:in `block in instrument'
activesupport (3.0.7) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
activesupport (3.0.7) lib/active_support/notifications.rb:52:in `instrument'
actionpack (3.0.7) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.0.7) lib/action_controller/metal/rescue.rb:17:in `process_action'
actionpack (3.0.7) lib/abstract_controller/base.rb:119:in `process'
actionpack (3.0.7) lib/abstract_controller/rendering.rb:41:in `process'
actionpack (3.0.7) lib/action_controller/metal.rb:138:in `dispatch'
actionpack (3.0.7) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.0.7) lib/action_controller/metal.rb:178:in `block in action'
actionpack (3.0.7) lib/action_dispatch/routing/route_set.rb:62:in `call'
actionpack (3.0.7) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
actionpack (3.0.7) lib/action_dispatch/routing/route_set.rb:27:in `call'
rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `block in call'
rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `block in recognize'
rack-mount (0.6.14) lib/rack/mount/code_generation.rb:68:in `optimized_each'
rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
actionpack (3.0.7) lib/action_dispatch/routing/route_set.rb:493:in `call'
haml (3.0.25) lib/sass/plugin/rack.rb:41:in `call'
client_side_validations (3.1.0) lib/client_side_validations/middleware.rb:18:in `call'
warden (1.0.4) lib/warden/manager.rb:35:in `block in call'
warden (1.0.4) lib/warden/manager.rb:34:in `catch'
warden (1.0.4) lib/warden/manager.rb:34:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/head.rb:14:in `call'
rack (1.2.2) lib/rack/methodoverride.rb:24:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/flash.rb:182:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/cookies.rb:302:in `call'
activerecord (3.0.7) lib/active_record/query_cache.rb:32:in `block in call'
activerecord (3.0.7) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
activerecord (3.0.7) lib/active_record/query_cache.rb:12:in `cache'
activerecord (3.0.7) lib/active_record/query_cache.rb:31:in `call'
activerecord (3.0.7) lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
activesupport (3.0.7) lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
actionpack (3.0.7) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
rack (1.2.2) lib/rack/sendfile.rb:107:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
railties (3.0.7) lib/rails/rack/logger.rb:13:in `call'
rack (1.2.2) lib/rack/runtime.rb:17:in `call'
rack (1.2.2) lib/rack/lock.rb:11:in `block in call'
&lt;internal:prelude&gt;:10:in `synchronize'
rack (1.2.2) lib/rack/lock.rb:11:in `call'
actionpack (3.0.7) lib/action_dispatch/middleware/static.rb:30:in `call'
railties (3.0.7) lib/rails/application.rb:168:in `call'
railties (3.0.7) lib/rails/application.rb:77:in `method_missing'
passenger (3.0.7) lib/phusion_passenger/rack/request_handler.rb:96:in `process_request'
passenger (3.0.7) lib/phusion_passenger/abstract_request_handler.rb:513:in `accept_and_process_next_request'
passenger (3.0.7) lib/phusion_passenger/abstract_request_handler.rb:274:in `main_loop'
passenger (3.0.7) lib/phusion_passenger/rack/application_spawner.rb:205:in `start_request_handler'
passenger (3.0.7) lib/phusion_passenger/rack/application_spawner.rb:170:in `block in handle_spawn_application'
passenger (3.0.7) lib/phusion_passenger/utils.rb:479:in `safe_fork'
passenger (3.0.7) lib/phusion_passenger/rack/application_spawner.rb:165:in `handle_spawn_application'
passenger (3.0.7) lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
passenger (3.0.7) lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
passenger (3.0.7) lib/phusion_passenger/abstract_server.rb:180:in `start'
passenger (3.0.7) lib/phusion_passenger/rack/application_spawner.rb:128:in `start'
passenger (3.0.7) lib/phusion_passenger/spawn_manager.rb:253:in `block (2 levels) in spawn_rack_application'
passenger (3.0.7) lib/phusion_passenger/abstract_server_collection.rb:132:in `lookup_or_add'
passenger (3.0.7) lib/phusion_passenger/spawn_manager.rb:246:in `block in spawn_rack_application'
passenger (3.0.7) lib/phusion_passenger/abstract_server_collection.rb:82:in `block in synchronize'
&lt;internal:prelude&gt;:10:in `synchronize'
passenger (3.0.7) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
passenger (3.0.7) lib/phusion_passenger/spawn_manager.rb:244:in `spawn_rack_application'
passenger (3.0.7) lib/phusion_passenger/spawn_manager.rb:137:in `spawn_application'
passenger (3.0.7) lib/phusion_passenger/spawn_manager.rb:275:in `handle_spawn_application'
passenger (3.0.7) lib/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
passenger (3.0.7) lib/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
passenger (3.0.7) helper-scripts/passenger-spawn-server:99:in `&lt;main&gt;'</code></pre>
    </div>
</div>



<h2 style="margin-top: 30px">Request</h2>
<p><b>Parameters</b>: </p><pre>{"discount"=&gt;"0.00",
 "payment_type"=&gt;"1",
 "subject"=&gt;"购买(IT职场ABC)课程",
 "trade_no"=&gt;"2011071876341284",
 "buyer_email"=&gt;"christinezyy@yahoo.com.cn",
 "gmt_create"=&gt;"2011-07-18 10:39:05",
 "notify_type"=&gt;"trade_status_sync",
 "quantity"=&gt;"1",
 "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d",
 "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期",
 "notify_time"=&gt;"2011-07-18 10:39:27",
 "seller_id"=&gt;"2088002736792529",
 "trade_status"=&gt;"TRADE_SUCCESS",
 "is_total_fee_adjust"=&gt;"N",
 "total_fee"=&gt;"0.01",
 "gmt_payment"=&gt;"2011-07-18 10:39:27",
 "seller_email"=&gt;"zhou-hui-qing@163.com",
 "price"=&gt;"0.01",
 "buyer_id"=&gt;"2088002099617842",
 "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08",
 "use_coupon"=&gt;"N",
 "sign_type"=&gt;"MD5",
 "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4"}</pre><p></p>

<p><a href="#" onclick="document.getElementById('session_dump').style.display='block'; return false;">Show session dump</a></p>
<div id="session_dump" style="display:none"><pre></pre></div>

<p><a href="#" onclick="document.getElementById('env_dump').style.display='block'; return false;">Show env dump</a></p>
<div id="env_dump" style="display:none"><pre>CONTENT_LENGTH: "745"
CONTENT_TYPE: "application/x-www-form-urlencoded"
DOCUMENT_ROOT: "/opt/www/dev/p2p-training/public"
HTTP_ACCEPT: "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
HTTP_ACCEPT_CHARSET: "GB2312,utf-8;q=0.7,*;q=0.7"
HTTP_ACCEPT_ENCODING: "gzip, deflate"
HTTP_ACCEPT_LANGUAGE: "zh-cn,zh;q=0.5"
HTTP_CACHE_CONTROL: "max-age=0"
HTTP_CONNECTION: "keep-alive"
HTTP_COOKIE: "_p2p-training_session=BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ%3D--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2"
HTTP_HOST: "dev.p2p-training.com"
HTTP_USER_AGENT: "Mozilla/5.0 (X11; Linux x86_64; rv:5.0) Gecko/20100101 Firefox/5.0"
PASSENGER_APP_SPAWNER_IDLE_TIME: "-1"
PASSENGER_APP_TYPE: "rack"
PASSENGER_CONNECT_PASSWORD: "FjJPBj4rorFzMkYxWa7LS6PSuIZoXAHEv8IG8D79fnO"
PASSENGER_DEBUGGER: "false"
PASSENGER_ENVIRONMENT: "development"
PASSENGER_FRAMEWORK_SPAWNER_IDLE_TIME: "-1"
PASSENGER_FRIENDLY_ERROR_PAGES: "true"
PASSENGER_GROUP: ""
PASSENGER_MIN_INSTANCES: "1"
PASSENGER_SHOW_VERSION_IN_HEADER: "true"
PASSENGER_SPAWN_METHOD: "smart-lv2"
PASSENGER_USER: ""
PASSENGER_USE_GLOBAL_QUEUE: "true"
PATH_INFO: "/alipay_tests/notify"
QUERY_STRING: ""
RAW_POST_DATA: "discount=0.00&amp;payment_type=1&amp;subject=%E8%B4%AD%E4%B9%B0%28IT%E8%81%8C%E5%9C%BAABC%29%E8%AF%BE%E7%A8%8B&amp;trade_no=2011071876341284&amp;buyer_email=christinezyy%40yahoo.com.cn&amp;gmt_create=2011-07-18+10%3A39%3A05&amp;notify_type=trade_status_sync&amp;quantity=1&amp;out_trade_no=10a2b4d621a88129c4f1065d282c651d&amp;body=%3CIT%E8%81%8C%E5%9C%BAABC%3E%E8%AF%BE%E7%A8%8B+%E7%A6%8F%E7%94%B0%E7%8F%AD%E7%AC%AC%E4%B8%80%E6%9C%9F&amp;notify_time=2011-07-18+10%3A39%3A27&amp;seller_id=2088002736792529&amp;trade_status=TRADE_SUCCESS&amp;is_total_fee_adjust=N&amp;total_fee=0.01&amp;gmt_payment=2011-07-18+10%3A39%3A27&amp;seller_email=zhou-hui-qing%40163.com&amp;price=0.01&amp;buyer_id=2088002099617842&amp;notify_id=f5d9b18ff4787948315b7a7defa57bce08&amp;use_coupon=N&amp;sign_type=MD5&amp;sign=f7a1083c6ea8b49a6c1e873b8b16b0e4"
REMOTE_ADDR: "192.168.15.200"
REMOTE_PORT: "59979"
REQUEST_METHOD: "POST"
REQUEST_URI: "/alipay_tests/notify"
SCGI: "1"
SCRIPT_NAME: ""
SERVER_ADDR: "192.168.15.200"
SERVER_NAME: "dev.p2p-training.com"
SERVER_PORT: "80"
SERVER_PROTOCOL: "HTTP/1.1"
SERVER_SOFTWARE: "nginx/1.0.2"
UNION_STATION_SUPPORT: "false"
_: "_"
action_controller.instance: #&lt;AlipayTestsController:0x00000005d9b340 @action_has_layout=true, @view_context_class=nil, @_headers={"Content-Type"=&gt;"text/html"}, @_status=200, @_response=#&lt;ActionDispatch::Response:0x00000005d9ad28 @writer=#&lt;Proc:0x00000005d9ab70@/usr/local/ruby-1.9.2-p180/lib/ruby/gems/1.9.1/gems/actionpack-3.0.7/lib/action_dispatch/http/response.rb:43 (lambda)&gt;, @block=nil, @length=0, @header={}, @status=200, @body=[], @cookie=[], @sending_file=false, @blank=false, @cache_control={}, @etag=nil, @request=#&lt;ActionDispatch::Request:0x00000005d9ad78 @env={"CONTENT_LENGTH"=&gt;"745", "DOCUMENT_ROOT"=&gt;"/opt/www/dev/p2p-training/public", "SCRIPT_NAME"=&gt;"", "PATH_INFO"=&gt;"/alipay_tests/notify", "REQUEST_URI"=&gt;"/alipay_tests/notify", "CONTENT_TYPE"=&gt;"application/x-www-form-urlencoded", "PASSENGER_USE_GLOBAL_QUEUE"=&gt;"true", "PASSENGER_FRIENDLY_ERROR_PAGES"=&gt;"true", "UNION_STATION_SUPPORT"=&gt;"false", "PASSENGER_DEBUGGER"=&gt;"false", "PASSENGER_SHOW_VERSION_IN_HEADER"=&gt;"true", "PASSENGER_ENVIRONMENT"=&gt;"development", "PASSENGER_SPAWN_METHOD"=&gt;"smart-lv2", "PASSENGER_USER"=&gt;"", "PASSENGER_GROUP"=&gt;"", "PASSENGER_APP_TYPE"=&gt;"rack", "PASSENGER_MIN_INSTANCES"=&gt;"1", "PASSENGER_FRAMEWORK_SPAWNER_IDLE_TIME"=&gt;"-1", "PASSENGER_APP_SPAWNER_IDLE_TIME"=&gt;"-1", "SCGI"=&gt;"1", "QUERY_STRING"=&gt;"", "REQUEST_METHOD"=&gt;"POST", "SERVER_PROTOCOL"=&gt;"HTTP/1.1", "SERVER_SOFTWARE"=&gt;"nginx/1.0.2", "REMOTE_ADDR"=&gt;"192.168.15.200", "REMOTE_PORT"=&gt;"59979", "SERVER_ADDR"=&gt;"192.168.15.200", "SERVER_PORT"=&gt;"80", "SERVER_NAME"=&gt;"dev.p2p-training.com", "HTTP_HOST"=&gt;"dev.p2p-training.com", "HTTP_USER_AGENT"=&gt;"Mozilla/5.0 (X11; Linux x86_64; rv:5.0) Gecko/20100101 Firefox/5.0", "HTTP_ACCEPT"=&gt;"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8", "HTTP_ACCEPT_LANGUAGE"=&gt;"zh-cn,zh;q=0.5", "HTTP_ACCEPT_ENCODING"=&gt;"gzip, deflate", "HTTP_ACCEPT_CHARSET"=&gt;"GB2312,utf-8;q=0.7,*;q=0.7", "HTTP_CONNECTION"=&gt;"keep-alive", "HTTP_COOKIE"=&gt;"_p2p-training_session=BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ%3D--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2", "HTTP_CACHE_CONTROL"=&gt;"max-age=0", "_"=&gt;"_", "PASSENGER_CONNECT_PASSWORD"=&gt;"FjJPBj4rorFzMkYxWa7LS6PSuIZoXAHEv8IG8D79fnO", "rack.version"=&gt;[1, 0], "rack.input"=&gt;#&lt;PhusionPassenger::Utils::RewindableInput:0x00000006b730f8 @io=#&lt;PhusionPassenger::Utils::UnseekableSocket:0x00000003caf938 @socket=#&lt;UNIXSocket:fd 9&gt;&gt;, @rewindable_io=#&lt;File:/tmp/RackRewindableInput20110718-5144-5zfxuk&gt;, @unlinked=true&gt;, "rack.errors"=&gt;#&lt;IO:&lt;STDERR&gt;&gt;, "rack.multithread"=&gt;false, "rack.multiprocess"=&gt;true, "rack.run_once"=&gt;false, "rack.url_scheme"=&gt;"http", "action_dispatch.parameter_filter"=&gt;[:password], "action_dispatch.secret_token"=&gt;"66a2e22da4a9468d0585a8253487b819bf29aae00602826387443bb445b2a06e2c9b45749f6c57d12b2a5e2cbd941775d05bf358190a27ba5e8b63d0991a2cf1", "action_dispatch.show_exceptions"=&gt;true, "action_dispatch.remote_ip"=&gt;192.168.15.200, "rack.session"=&gt;{}, "rack.session.options"=&gt;{:path=&gt;"/", :domain=&gt;nil, :expire_after=&gt;nil, :secure=&gt;false, :httponly=&gt;true, :id=&gt;nil}, "rack.request.cookie_string"=&gt;"_p2p-training_session=BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ%3D--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2", "rack.request.cookie_hash"=&gt;{"_p2p-training_session"=&gt;"BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ=--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2"}, "action_dispatch.cookies"=&gt;{"_p2p-training_session"=&gt;"BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ=--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2"}, "action_dispatch.request.unsigned_session_cookie"=&gt;{"session_id"=&gt;"08a57d95606c00a336db38c63d897af4"}, "action_dispatch.request.content_type"=&gt;application/x-www-form-urlencoded, "rack.request.form_input"=&gt;#&lt;PhusionPassenger::Utils::RewindableInput:0x00000006b730f8 @io=#&lt;PhusionPassenger::Utils::UnseekableSocket:0x00000003caf938 @socket=#&lt;UNIXSocket:fd 9&gt;&gt;, @rewindable_io=#&lt;File:/tmp/RackRewindableInput20110718-5144-5zfxuk&gt;, @unlinked=true&gt;, "rack.request.form_hash"=&gt;{"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4"}, "rack.request.form_vars"=&gt;"discount=0.00&amp;payment_type=1&amp;subject=%E8%B4%AD%E4%B9%B0%28IT%E8%81%8C%E5%9C%BAABC%29%E8%AF%BE%E7%A8%8B&amp;trade_no=2011071876341284&amp;buyer_email=christinezyy%40yahoo.com.cn&amp;gmt_create=2011-07-18+10%3A39%3A05&amp;notify_type=trade_status_sync&amp;quantity=1&amp;out_trade_no=10a2b4d621a88129c4f1065d282c651d&amp;body=%3CIT%E8%81%8C%E5%9C%BAABC%3E%E8%AF%BE%E7%A8%8B+%E7%A6%8F%E7%94%B0%E7%8F%AD%E7%AC%AC%E4%B8%80%E6%9C%9F&amp;notify_time=2011-07-18+10%3A39%3A27&amp;seller_id=2088002736792529&amp;trade_status=TRADE_SUCCESS&amp;is_total_fee_adjust=N&amp;total_fee=0.01&amp;gmt_payment=2011-07-18+10%3A39%3A27&amp;seller_email=zhou-hui-qing%40163.com&amp;price=0.01&amp;buyer_id=2088002099617842&amp;notify_id=f5d9b18ff4787948315b7a7defa57bce08&amp;use_coupon=N&amp;sign_type=MD5&amp;sign=f7a1083c6ea8b49a6c1e873b8b16b0e4", "warden"=&gt;Warden::Proxy:56267560 @config={:default_scope=&gt;:user, :scope_defaults=&gt;{}, :default_strategies=&gt;{:user=&gt;[:rememberable, :database_authenticatable]}, :intercept_401=&gt;false, :failure_app=&gt;Devise::FailureApp}, "action_dispatch.request.path_parameters"=&gt;{:action=&gt;"notify", :controller=&gt;"alipay_tests"}, "action_controller.instance"=&gt;#&lt;AlipayTestsController:0x00000005d9b340 ...&gt;, "action_dispatch.request.request_parameters"=&gt;{"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4"}, "rack.request.query_string"=&gt;"", "rack.request.query_hash"=&gt;{}, "action_dispatch.request.query_parameters"=&gt;{}, "action_dispatch.request.parameters"=&gt;{"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4", "action"=&gt;"notify", "controller"=&gt;"alipay_tests"}, "action_dispatch.request.formats"=&gt;[text/html], "action_dispatch.request.flash_hash"=&gt;nil, "RAW_POST_DATA"=&gt;"discount=0.00&amp;payment_type=1&amp;subject=%E8%B4%AD%E4%B9%B0%28IT%E8%81%8C%E5%9C%BAABC%29%E8%AF%BE%E7%A8%8B&amp;trade_no=2011071876341284&amp;buyer_email=christinezyy%40yahoo.com.cn&amp;gmt_create=2011-07-18+10%3A39%3A05&amp;notify_type=trade_status_sync&amp;quantity=1&amp;out_trade_no=10a2b4d621a88129c4f1065d282c651d&amp;body=%3CIT%E8%81%8C%E5%9C%BAABC%3E%E8%AF%BE%E7%A8%8B+%E7%A6%8F%E7%94%B0%E7%8F%AD%E7%AC%AC%E4%B8%80%E6%9C%9F&amp;notify_time=2011-07-18+10%3A39%3A27&amp;seller_id=2088002736792529&amp;trade_status=TRADE_SUCCESS&amp;is_total_fee_adjust=N&amp;total_fee=0.01&amp;gmt_payment=2011-07-18+10%3A39%3A27&amp;seller_email=zhou-hui-qing%40163.com&amp;price=0.01&amp;buyer_id=2088002099617842&amp;notify_id=f5d9b18ff4787948315b7a7defa57bce08&amp;use_coupon=N&amp;sign_type=MD5&amp;sign=f7a1083c6ea8b49a6c1e873b8b16b0e4"}, @request_method="POST", @filtered_parameters={"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4", "action"=&gt;"notify", "controller"=&gt;"alipay_tests"}, @method="POST", @fullpath="/alipay_tests/notify"&gt;&gt;, @_request=#&lt;ActionDispatch::Request:0x00000005d9ad78 @env={"CONTENT_LENGTH"=&gt;"745", "DOCUMENT_ROOT"=&gt;"/opt/www/dev/p2p-training/public", "SCRIPT_NAME"=&gt;"", "PATH_INFO"=&gt;"/alipay_tests/notify", "REQUEST_URI"=&gt;"/alipay_tests/notify", "CONTENT_TYPE"=&gt;"application/x-www-form-urlencoded", "PASSENGER_USE_GLOBAL_QUEUE"=&gt;"true", "PASSENGER_FRIENDLY_ERROR_PAGES"=&gt;"true", "UNION_STATION_SUPPORT"=&gt;"false", "PASSENGER_DEBUGGER"=&gt;"false", "PASSENGER_SHOW_VERSION_IN_HEADER"=&gt;"true", "PASSENGER_ENVIRONMENT"=&gt;"development", "PASSENGER_SPAWN_METHOD"=&gt;"smart-lv2", "PASSENGER_USER"=&gt;"", "PASSENGER_GROUP"=&gt;"", "PASSENGER_APP_TYPE"=&gt;"rack", "PASSENGER_MIN_INSTANCES"=&gt;"1", "PASSENGER_FRAMEWORK_SPAWNER_IDLE_TIME"=&gt;"-1", "PASSENGER_APP_SPAWNER_IDLE_TIME"=&gt;"-1", "SCGI"=&gt;"1", "QUERY_STRING"=&gt;"", "REQUEST_METHOD"=&gt;"POST", "SERVER_PROTOCOL"=&gt;"HTTP/1.1", "SERVER_SOFTWARE"=&gt;"nginx/1.0.2", "REMOTE_ADDR"=&gt;"192.168.15.200", "REMOTE_PORT"=&gt;"59979", "SERVER_ADDR"=&gt;"192.168.15.200", "SERVER_PORT"=&gt;"80", "SERVER_NAME"=&gt;"dev.p2p-training.com", "HTTP_HOST"=&gt;"dev.p2p-training.com", "HTTP_USER_AGENT"=&gt;"Mozilla/5.0 (X11; Linux x86_64; rv:5.0) Gecko/20100101 Firefox/5.0", "HTTP_ACCEPT"=&gt;"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8", "HTTP_ACCEPT_LANGUAGE"=&gt;"zh-cn,zh;q=0.5", "HTTP_ACCEPT_ENCODING"=&gt;"gzip, deflate", "HTTP_ACCEPT_CHARSET"=&gt;"GB2312,utf-8;q=0.7,*;q=0.7", "HTTP_CONNECTION"=&gt;"keep-alive", "HTTP_COOKIE"=&gt;"_p2p-training_session=BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ%3D--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2", "HTTP_CACHE_CONTROL"=&gt;"max-age=0", "_"=&gt;"_", "PASSENGER_CONNECT_PASSWORD"=&gt;"FjJPBj4rorFzMkYxWa7LS6PSuIZoXAHEv8IG8D79fnO", "rack.version"=&gt;[1, 0], "rack.input"=&gt;#&lt;PhusionPassenger::Utils::RewindableInput:0x00000006b730f8 @io=#&lt;PhusionPassenger::Utils::UnseekableSocket:0x00000003caf938 @socket=#&lt;UNIXSocket:fd 9&gt;&gt;, @rewindable_io=#&lt;File:/tmp/RackRewindableInput20110718-5144-5zfxuk&gt;, @unlinked=true&gt;, "rack.errors"=&gt;#&lt;IO:&lt;STDERR&gt;&gt;, "rack.multithread"=&gt;false, "rack.multiprocess"=&gt;true, "rack.run_once"=&gt;false, "rack.url_scheme"=&gt;"http", "action_dispatch.parameter_filter"=&gt;[:password], "action_dispatch.secret_token"=&gt;"66a2e22da4a9468d0585a8253487b819bf29aae00602826387443bb445b2a06e2c9b45749f6c57d12b2a5e2cbd941775d05bf358190a27ba5e8b63d0991a2cf1", "action_dispatch.show_exceptions"=&gt;true, "action_dispatch.remote_ip"=&gt;192.168.15.200, "rack.session"=&gt;{}, "rack.session.options"=&gt;{:path=&gt;"/", :domain=&gt;nil, :expire_after=&gt;nil, :secure=&gt;false, :httponly=&gt;true, :id=&gt;nil}, "rack.request.cookie_string"=&gt;"_p2p-training_session=BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ%3D--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2", "rack.request.cookie_hash"=&gt;{"_p2p-training_session"=&gt;"BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ=--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2"}, "action_dispatch.cookies"=&gt;{"_p2p-training_session"=&gt;"BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ=--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2"}, "action_dispatch.request.unsigned_session_cookie"=&gt;{"session_id"=&gt;"08a57d95606c00a336db38c63d897af4"}, "action_dispatch.request.content_type"=&gt;application/x-www-form-urlencoded, "rack.request.form_input"=&gt;#&lt;PhusionPassenger::Utils::RewindableInput:0x00000006b730f8 @io=#&lt;PhusionPassenger::Utils::UnseekableSocket:0x00000003caf938 @socket=#&lt;UNIXSocket:fd 9&gt;&gt;, @rewindable_io=#&lt;File:/tmp/RackRewindableInput20110718-5144-5zfxuk&gt;, @unlinked=true&gt;, "rack.request.form_hash"=&gt;{"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4"}, "rack.request.form_vars"=&gt;"discount=0.00&amp;payment_type=1&amp;subject=%E8%B4%AD%E4%B9%B0%28IT%E8%81%8C%E5%9C%BAABC%29%E8%AF%BE%E7%A8%8B&amp;trade_no=2011071876341284&amp;buyer_email=christinezyy%40yahoo.com.cn&amp;gmt_create=2011-07-18+10%3A39%3A05&amp;notify_type=trade_status_sync&amp;quantity=1&amp;out_trade_no=10a2b4d621a88129c4f1065d282c651d&amp;body=%3CIT%E8%81%8C%E5%9C%BAABC%3E%E8%AF%BE%E7%A8%8B+%E7%A6%8F%E7%94%B0%E7%8F%AD%E7%AC%AC%E4%B8%80%E6%9C%9F&amp;notify_time=2011-07-18+10%3A39%3A27&amp;seller_id=2088002736792529&amp;trade_status=TRADE_SUCCESS&amp;is_total_fee_adjust=N&amp;total_fee=0.01&amp;gmt_payment=2011-07-18+10%3A39%3A27&amp;seller_email=zhou-hui-qing%40163.com&amp;price=0.01&amp;buyer_id=2088002099617842&amp;notify_id=f5d9b18ff4787948315b7a7defa57bce08&amp;use_coupon=N&amp;sign_type=MD5&amp;sign=f7a1083c6ea8b49a6c1e873b8b16b0e4", "warden"=&gt;Warden::Proxy:56267560 @config={:default_scope=&gt;:user, :scope_defaults=&gt;{}, :default_strategies=&gt;{:user=&gt;[:rememberable, :database_authenticatable]}, :intercept_401=&gt;false, :failure_app=&gt;Devise::FailureApp}, "action_dispatch.request.path_parameters"=&gt;{:action=&gt;"notify", :controller=&gt;"alipay_tests"}, "action_controller.instance"=&gt;#&lt;AlipayTestsController:0x00000005d9b340 ...&gt;, "action_dispatch.request.request_parameters"=&gt;{"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4"}, "rack.request.query_string"=&gt;"", "rack.request.query_hash"=&gt;{}, "action_dispatch.request.query_parameters"=&gt;{}, "action_dispatch.request.parameters"=&gt;{"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4", "action"=&gt;"notify", "controller"=&gt;"alipay_tests"}, "action_dispatch.request.formats"=&gt;[text/html], "action_dispatch.request.flash_hash"=&gt;nil, "RAW_POST_DATA"=&gt;"discount=0.00&amp;payment_type=1&amp;subject=%E8%B4%AD%E4%B9%B0%28IT%E8%81%8C%E5%9C%BAABC%29%E8%AF%BE%E7%A8%8B&amp;trade_no=2011071876341284&amp;buyer_email=christinezyy%40yahoo.com.cn&amp;gmt_create=2011-07-18+10%3A39%3A05&amp;notify_type=trade_status_sync&amp;quantity=1&amp;out_trade_no=10a2b4d621a88129c4f1065d282c651d&amp;body=%3CIT%E8%81%8C%E5%9C%BAABC%3E%E8%AF%BE%E7%A8%8B+%E7%A6%8F%E7%94%B0%E7%8F%AD%E7%AC%AC%E4%B8%80%E6%9C%9F&amp;notify_time=2011-07-18+10%3A39%3A27&amp;seller_id=2088002736792529&amp;trade_status=TRADE_SUCCESS&amp;is_total_fee_adjust=N&amp;total_fee=0.01&amp;gmt_payment=2011-07-18+10%3A39%3A27&amp;seller_email=zhou-hui-qing%40163.com&amp;price=0.01&amp;buyer_id=2088002099617842&amp;notify_id=f5d9b18ff4787948315b7a7defa57bce08&amp;use_coupon=N&amp;sign_type=MD5&amp;sign=f7a1083c6ea8b49a6c1e873b8b16b0e4"}, @request_method="POST", @filtered_parameters={"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4", "action"=&gt;"notify", "controller"=&gt;"alipay_tests"}, @method="POST", @fullpath="/alipay_tests/notify"&gt;, @_env={"CONTENT_LENGTH"=&gt;"745", "DOCUMENT_ROOT"=&gt;"/opt/www/dev/p2p-training/public", "SCRIPT_NAME"=&gt;"", "PATH_INFO"=&gt;"/alipay_tests/notify", "REQUEST_URI"=&gt;"/alipay_tests/notify", "CONTENT_TYPE"=&gt;"application/x-www-form-urlencoded", "PASSENGER_USE_GLOBAL_QUEUE"=&gt;"true", "PASSENGER_FRIENDLY_ERROR_PAGES"=&gt;"true", "UNION_STATION_SUPPORT"=&gt;"false", "PASSENGER_DEBUGGER"=&gt;"false", "PASSENGER_SHOW_VERSION_IN_HEADER"=&gt;"true", "PASSENGER_ENVIRONMENT"=&gt;"development", "PASSENGER_SPAWN_METHOD"=&gt;"smart-lv2", "PASSENGER_USER"=&gt;"", "PASSENGER_GROUP"=&gt;"", "PASSENGER_APP_TYPE"=&gt;"rack", "PASSENGER_MIN_INSTANCES"=&gt;"1", "PASSENGER_FRAMEWORK_SPAWNER_IDLE_TIME"=&gt;"-1", "PASSENGER_APP_SPAWNER_IDLE_TIME"=&gt;"-1", "SCGI"=&gt;"1", "QUERY_STRING"=&gt;"", "REQUEST_METHOD"=&gt;"POST", "SERVER_PROTOCOL"=&gt;"HTTP/1.1", "SERVER_SOFTWARE"=&gt;"nginx/1.0.2", "REMOTE_ADDR"=&gt;"192.168.15.200", "REMOTE_PORT"=&gt;"59979", "SERVER_ADDR"=&gt;"192.168.15.200", "SERVER_PORT"=&gt;"80", "SERVER_NAME"=&gt;"dev.p2p-training.com", "HTTP_HOST"=&gt;"dev.p2p-training.com", "HTTP_USER_AGENT"=&gt;"Mozilla/5.0 (X11; Linux x86_64; rv:5.0) Gecko/20100101 Firefox/5.0", "HTTP_ACCEPT"=&gt;"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8", "HTTP_ACCEPT_LANGUAGE"=&gt;"zh-cn,zh;q=0.5", "HTTP_ACCEPT_ENCODING"=&gt;"gzip, deflate", "HTTP_ACCEPT_CHARSET"=&gt;"GB2312,utf-8;q=0.7,*;q=0.7", "HTTP_CONNECTION"=&gt;"keep-alive", "HTTP_COOKIE"=&gt;"_p2p-training_session=BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ%3D--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2", "HTTP_CACHE_CONTROL"=&gt;"max-age=0", "_"=&gt;"_", "PASSENGER_CONNECT_PASSWORD"=&gt;"FjJPBj4rorFzMkYxWa7LS6PSuIZoXAHEv8IG8D79fnO", "rack.version"=&gt;[1, 0], "rack.input"=&gt;#&lt;PhusionPassenger::Utils::RewindableInput:0x00000006b730f8 @io=#&lt;PhusionPassenger::Utils::UnseekableSocket:0x00000003caf938 @socket=#&lt;UNIXSocket:fd 9&gt;&gt;, @rewindable_io=#&lt;File:/tmp/RackRewindableInput20110718-5144-5zfxuk&gt;, @unlinked=true&gt;, "rack.errors"=&gt;#&lt;IO:&lt;STDERR&gt;&gt;, "rack.multithread"=&gt;false, "rack.multiprocess"=&gt;true, "rack.run_once"=&gt;false, "rack.url_scheme"=&gt;"http", "action_dispatch.parameter_filter"=&gt;[:password], "action_dispatch.secret_token"=&gt;"66a2e22da4a9468d0585a8253487b819bf29aae00602826387443bb445b2a06e2c9b45749f6c57d12b2a5e2cbd941775d05bf358190a27ba5e8b63d0991a2cf1", "action_dispatch.show_exceptions"=&gt;true, "action_dispatch.remote_ip"=&gt;192.168.15.200, "rack.session"=&gt;{}, "rack.session.options"=&gt;{:path=&gt;"/", :domain=&gt;nil, :expire_after=&gt;nil, :secure=&gt;false, :httponly=&gt;true, :id=&gt;nil}, "rack.request.cookie_string"=&gt;"_p2p-training_session=BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ%3D--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2", "rack.request.cookie_hash"=&gt;{"_p2p-training_session"=&gt;"BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ=--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2"}, "action_dispatch.cookies"=&gt;{"_p2p-training_session"=&gt;"BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ=--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2"}, "action_dispatch.request.unsigned_session_cookie"=&gt;{"session_id"=&gt;"08a57d95606c00a336db38c63d897af4"}, "action_dispatch.request.content_type"=&gt;application/x-www-form-urlencoded, "rack.request.form_input"=&gt;#&lt;PhusionPassenger::Utils::RewindableInput:0x00000006b730f8 @io=#&lt;PhusionPassenger::Utils::UnseekableSocket:0x00000003caf938 @socket=#&lt;UNIXSocket:fd 9&gt;&gt;, @rewindable_io=#&lt;File:/tmp/RackRewindableInput20110718-5144-5zfxuk&gt;, @unlinked=true&gt;, "rack.request.form_hash"=&gt;{"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4"}, "rack.request.form_vars"=&gt;"discount=0.00&amp;payment_type=1&amp;subject=%E8%B4%AD%E4%B9%B0%28IT%E8%81%8C%E5%9C%BAABC%29%E8%AF%BE%E7%A8%8B&amp;trade_no=2011071876341284&amp;buyer_email=christinezyy%40yahoo.com.cn&amp;gmt_create=2011-07-18+10%3A39%3A05&amp;notify_type=trade_status_sync&amp;quantity=1&amp;out_trade_no=10a2b4d621a88129c4f1065d282c651d&amp;body=%3CIT%E8%81%8C%E5%9C%BAABC%3E%E8%AF%BE%E7%A8%8B+%E7%A6%8F%E7%94%B0%E7%8F%AD%E7%AC%AC%E4%B8%80%E6%9C%9F&amp;notify_time=2011-07-18+10%3A39%3A27&amp;seller_id=2088002736792529&amp;trade_status=TRADE_SUCCESS&amp;is_total_fee_adjust=N&amp;total_fee=0.01&amp;gmt_payment=2011-07-18+10%3A39%3A27&amp;seller_email=zhou-hui-qing%40163.com&amp;price=0.01&amp;buyer_id=2088002099617842&amp;notify_id=f5d9b18ff4787948315b7a7defa57bce08&amp;use_coupon=N&amp;sign_type=MD5&amp;sign=f7a1083c6ea8b49a6c1e873b8b16b0e4", "warden"=&gt;Warden::Proxy:56267560 @config={:default_scope=&gt;:user, :scope_defaults=&gt;{}, :default_strategies=&gt;{:user=&gt;[:rememberable, :database_authenticatable]}, :intercept_401=&gt;false, :failure_app=&gt;Devise::FailureApp}, "action_dispatch.request.path_parameters"=&gt;{:action=&gt;"notify", :controller=&gt;"alipay_tests"}, "action_controller.instance"=&gt;#&lt;AlipayTestsController:0x00000005d9b340 ...&gt;, "action_dispatch.request.request_parameters"=&gt;{"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4"}, "rack.request.query_string"=&gt;"", "rack.request.query_hash"=&gt;{}, "action_dispatch.request.query_parameters"=&gt;{}, "action_dispatch.request.parameters"=&gt;{"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4", "action"=&gt;"notify", "controller"=&gt;"alipay_tests"}, "action_dispatch.request.formats"=&gt;[text/html], "action_dispatch.request.flash_hash"=&gt;nil, "RAW_POST_DATA"=&gt;"discount=0.00&amp;payment_type=1&amp;subject=%E8%B4%AD%E4%B9%B0%28IT%E8%81%8C%E5%9C%BAABC%29%E8%AF%BE%E7%A8%8B&amp;trade_no=2011071876341284&amp;buyer_email=christinezyy%40yahoo.com.cn&amp;gmt_create=2011-07-18+10%3A39%3A05&amp;notify_type=trade_status_sync&amp;quantity=1&amp;out_trade_no=10a2b4d621a88129c4f1065d282c651d&amp;body=%3CIT%E8%81%8C%E5%9C%BAABC%3E%E8%AF%BE%E7%A8%8B+%E7%A6%8F%E7%94%B0%E7%8F%AD%E7%AC%AC%E4%B8%80%E6%9C%9F&amp;notify_time=2011-07-18+10%3A39%3A27&amp;seller_id=2088002736792529&amp;trade_status=TRADE_SUCCESS&amp;is_total_fee_adjust=N&amp;total_fee=0.01&amp;gmt_payment=2011-07-18+10%3A39%3A27&amp;seller_email=zhou-hui-qing%40163.com&amp;price=0.01&amp;buyer_id=2088002099617842&amp;notify_id=f5d9b18ff4787948315b7a7defa57bce08&amp;use_coupon=N&amp;sign_type=MD5&amp;sign=f7a1083c6ea8b49a6c1e873b8b16b0e4"}, @lookup_context=#&lt;ActionView::LookupContext:0x00000005b0b3a0 @details_key=nil, @details={:handlers=&gt;[:erb, :rjs, :builder, :rhtml, :rxml, :haml], :formats=&gt;[:html], :locale=&gt;[:"zh-CN", :"zh-CN"]}, @skip_default_locale=false, @frozen_formats=false, @view_paths=[/home/edward/ruby_work/p2p-training/app/views, /home/edward/ruby_work/p2p-training/vendor/plugins/haml/app/views, /usr/local/ruby-1.9.2-p180/lib/ruby/gems/1.9.1/gems/client_side_validations-3.1.0/app/views, /usr/local/ruby-1.9.2-p180/lib/ruby/gems/1.9.1/gems/devise-1.3.4/app/views]&gt;, @_action_name="notify", @_response_body=nil, @_config={}, @_params={"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4", "action"=&gt;"notify", "controller"=&gt;"alipay_tests"}&gt;
action_dispatch.cookies: {"_p2p-training_session"=&gt;"BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ=--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2"}
action_dispatch.parameter_filter: [:password]
action_dispatch.remote_ip: 192.168.15.200
action_dispatch.request.content_type: application/x-www-form-urlencoded
action_dispatch.request.flash_hash: nil
action_dispatch.request.formats: [text/html]
action_dispatch.request.parameters: {"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4", "action"=&gt;"notify", "controller"=&gt;"alipay_tests"}
action_dispatch.request.path_parameters: {:action=&gt;"notify", :controller=&gt;"alipay_tests"}
action_dispatch.request.query_parameters: {}
action_dispatch.request.request_parameters: {"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4"}
action_dispatch.request.unsigned_session_cookie: {"session_id"=&gt;"08a57d95606c00a336db38c63d897af4"}
action_dispatch.secret_token: "66a2e22da4a9468d0585a8253487b819bf29aae00602826387443bb445b2a06e2c9b45749f6c57d12b2a5e2cbd941775d05bf358190a27ba5e8b63d0991a2cf1"
action_dispatch.show_exceptions: true
rack.errors: #&lt;IO:&lt;STDERR&gt;&gt;
rack.input: #&lt;PhusionPassenger::Utils::RewindableInput:0x00000006b730f8 @io=#&lt;PhusionPassenger::Utils::UnseekableSocket:0x00000003caf938 @socket=#&lt;UNIXSocket:fd 9&gt;&gt;, @rewindable_io=#&lt;File:/tmp/RackRewindableInput20110718-5144-5zfxuk&gt;, @unlinked=true&gt;
rack.multiprocess: true
rack.multithread: false
rack.request.cookie_hash: {"_p2p-training_session"=&gt;"BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ=--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2"}
rack.request.cookie_string: "_p2p-training_session=BAh7BkkiD3Nlc3Npb25faWQGOgZFRiIlMDhhNTdkOTU2MDZjMDBhMzM2ZGIzOGM2M2Q4OTdhZjQ%3D--0ac6c53845bed2ae93c9b22684c1951c4d3d0df2"
rack.request.form_hash: {"discount"=&gt;"0.00", "payment_type"=&gt;"1", "subject"=&gt;"购买(IT职场ABC)课程", "trade_no"=&gt;"2011071876341284", "buyer_email"=&gt;"christinezyy@yahoo.com.cn", "gmt_create"=&gt;"2011-07-18 10:39:05", "notify_type"=&gt;"trade_status_sync", "quantity"=&gt;"1", "out_trade_no"=&gt;"10a2b4d621a88129c4f1065d282c651d", "body"=&gt;"&lt;IT职场ABC&gt;课程 福田班第一期", "notify_time"=&gt;"2011-07-18 10:39:27", "seller_id"=&gt;"2088002736792529", "trade_status"=&gt;"TRADE_SUCCESS", "is_total_fee_adjust"=&gt;"N", "total_fee"=&gt;"0.01", "gmt_payment"=&gt;"2011-07-18 10:39:27", "seller_email"=&gt;"zhou-hui-qing@163.com", "price"=&gt;"0.01", "buyer_id"=&gt;"2088002099617842", "notify_id"=&gt;"f5d9b18ff4787948315b7a7defa57bce08", "use_coupon"=&gt;"N", "sign_type"=&gt;"MD5", "sign"=&gt;"f7a1083c6ea8b49a6c1e873b8b16b0e4"}
rack.request.form_input: #&lt;PhusionPassenger::Utils::RewindableInput:0x00000006b730f8 @io=#&lt;PhusionPassenger::Utils::UnseekableSocket:0x00000003caf938 @socket=#&lt;UNIXSocket:fd 9&gt;&gt;, @rewindable_io=#&lt;File:/tmp/RackRewindableInput20110718-5144-5zfxuk&gt;, @unlinked=true&gt;
rack.request.form_vars: "discount=0.00&amp;payment_type=1&amp;subject=%E8%B4%AD%E4%B9%B0%28IT%E8%81%8C%E5%9C%BAABC%29%E8%AF%BE%E7%A8%8B&amp;trade_no=2011071876341284&amp;buyer_email=christinezyy%40yahoo.com.cn&amp;gmt_create=2011-07-18+10%3A39%3A05&amp;notify_type=trade_status_sync&amp;quantity=1&amp;out_trade_no=10a2b4d621a88129c4f1065d282c651d&amp;body=%3CIT%E8%81%8C%E5%9C%BAABC%3E%E8%AF%BE%E7%A8%8B+%E7%A6%8F%E7%94%B0%E7%8F%AD%E7%AC%AC%E4%B8%80%E6%9C%9F&amp;notify_time=2011-07-18+10%3A39%3A27&amp;seller_id=2088002736792529&amp;trade_status=TRADE_SUCCESS&amp;is_total_fee_adjust=N&amp;total_fee=0.01&amp;gmt_payment=2011-07-18+10%3A39%3A27&amp;seller_email=zhou-hui-qing%40163.com&amp;price=0.01&amp;buyer_id=2088002099617842&amp;notify_id=f5d9b18ff4787948315b7a7defa57bce08&amp;use_coupon=N&amp;sign_type=MD5&amp;sign=f7a1083c6ea8b49a6c1e873b8b16b0e4"
rack.request.query_hash: {}
rack.request.query_string: ""
rack.run_once: false
rack.session: {}
rack.session.options: {:path=&gt;"/", :domain=&gt;nil, :expire_after=&gt;nil, :secure=&gt;false, :httponly=&gt;true, :id=&gt;nil}
rack.url_scheme: "http"
rack.version: [1, 0]
warden: Warden::Proxy:56267560 @config={:default_scope=&gt;:user, :scope_defaults=&gt;{}, :default_strategies=&gt;{:user=&gt;[:rememberable, :database_authenticatable]}, :intercept_401=&gt;false, :failure_app=&gt;Devise::FailureApp}</pre></div>


<h2 style="margin-top: 30px">Response</h2>
<p><b>Headers</b>: </p><pre>None</pre><p></p>





</body></html>